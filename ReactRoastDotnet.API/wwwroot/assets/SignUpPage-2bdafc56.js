import{r as y,j as e,N as w,p as f,L as C,d as S,_ as B,e as v}from"./index-e97df17e.js";import{u as A,n as x,e as E,a as T,A as i}from"./AuthInput-179d8048.js";import{A as U}from"./AuthFormHeader-e50a937c.js";function k(){var u,c,g,d;const[p,N]=y.useState(),{register:s,handleSubmit:h,formState:{isSubmitting:b,errors:a}}=A();if(p)return e.jsx(w,{to:f.signIn,state:{email:p}});const j=async o=>{const r=await S({firstName:o.firstName,lastName:o.lastName,email:o.email,password:o.password});r.ok?(N(r.value),B.success("Successfully created account!")):v(r.problemDetails)},t=s("firstName",x),n=s("lastName",x),m=s("email",E),l=s("password",T);return e.jsx("main",{className:"flex justify-center min-h-full py-6 md:py-6 mb-20 md:mb-0",children:e.jsxs("div",{className:"card w-full max-w-md shadow-2xl bg-base-100",children:[e.jsx(U,{title:"Sign Up"}),e.jsxs("form",{className:"card-body",onSubmit:h(j),children:[e.jsx(i,{ref:t.ref,type:"text",name:t.name,onChange:t.onChange,onBlur:t.onBlur,labelText:"First Name",errorMsg:(u=a==null?void 0:a.firstName)==null?void 0:u.message,autoComplete:"given-name"}),e.jsx(i,{ref:n.ref,type:"text",name:n.name,onChange:n.onChange,onBlur:n.onBlur,labelText:"Last Name",errorMsg:(c=a==null?void 0:a.lastName)==null?void 0:c.message,autoComplete:"family-name"}),e.jsx(i,{ref:m.ref,type:"email",name:m.name,onChange:m.onChange,onBlur:m.onBlur,labelText:"Email",errorMsg:(g=a==null?void 0:a.email)==null?void 0:g.message,autoComplete:"email"}),e.jsx(i,{ref:l.ref,type:"password",name:l.name,onChange:l.onChange,onBlur:l.onBlur,labelText:"Password",errorMsg:(d=a==null?void 0:a.password)==null?void 0:d.message,autoComplete:"new-password"}),e.jsx(C,{to:f.signIn,className:"link-secondary",children:"Already registered? Sign In"}),e.jsx("div",{className:"form-control mt-6",children:e.jsxs("button",{className:"btn btn-primary",type:"submit",children:["Sign Up",b&&e.jsx("span",{className:"loading loading-spinner"})]})})]})]})})}export{k as default};
